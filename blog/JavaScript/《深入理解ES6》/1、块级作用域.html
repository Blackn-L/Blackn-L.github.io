<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>1、块级作用域 | Blackn&#39;s Blog</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="Just playing around">
    
    <link rel="preload" href="/assets/css/0.styles.7cfabf05.css" as="style"><link rel="preload" href="/assets/js/app.19288ad8.js" as="script"><link rel="preload" href="/assets/js/2.961dec99.js" as="script"><link rel="preload" href="/assets/js/9.7eb7422e.js" as="script"><link rel="prefetch" href="/assets/js/10.5869ea4f.js"><link rel="prefetch" href="/assets/js/11.325ba86e.js"><link rel="prefetch" href="/assets/js/12.365b501a.js"><link rel="prefetch" href="/assets/js/13.e5cbd2ab.js"><link rel="prefetch" href="/assets/js/14.6818402f.js"><link rel="prefetch" href="/assets/js/15.0d8a920e.js"><link rel="prefetch" href="/assets/js/16.0d50a57b.js"><link rel="prefetch" href="/assets/js/17.e524b1f6.js"><link rel="prefetch" href="/assets/js/3.18e92782.js"><link rel="prefetch" href="/assets/js/4.fa83c5fa.js"><link rel="prefetch" href="/assets/js/5.9c192d2d.js"><link rel="prefetch" href="/assets/js/6.744a911e.js"><link rel="prefetch" href="/assets/js/7.deaa5c93.js"><link rel="prefetch" href="/assets/js/8.c43372f9.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7cfabf05.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Blackn's Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/blog/" class="nav-link router-link-active">
  文章
</a></div><div class="nav-item"><a href="/resources/" class="nav-link">
  资源
</a></div> <a href="https://github.com/Blackn-L/Blackn-L.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/blog/" class="nav-link router-link-active">
  文章
</a></div><div class="nav-item"><a href="/resources/" class="nav-link">
  资源
</a></div> <a href="https://github.com/Blackn-L/Blackn-L.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/blog/JavaScript/" class="sidebar-heading clickable router-link-active open"><span>JavaScript</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/blog/JavaScript/《深入理解ES6》" class="sidebar-heading clickable open"><span>《深入理解ES6》</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/JavaScript/《深入理解ES6》/1、块级作用域.html" class="active sidebar-link">1、块级作用域</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/JavaScript/《深入理解ES6》/1、块级作用域.html#前言" class="sidebar-link">前言</a></li><li class="sidebar-sub-header"><a href="/blog/JavaScript/《深入理解ES6》/1、块级作用域.html#变量提升" class="sidebar-link">变量提升</a></li><li class="sidebar-sub-header"><a href="/blog/JavaScript/《深入理解ES6》/1、块级作用域.html#块级声明-let、const" class="sidebar-link">块级声明（let、const）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/JavaScript/《深入理解ES6》/1、块级作用域.html#let" class="sidebar-link">let</a></li><li class="sidebar-sub-header"><a href="/blog/JavaScript/《深入理解ES6》/1、块级作用域.html#const" class="sidebar-link">const</a></li></ul></li><li class="sidebar-sub-header"><a href="/blog/JavaScript/《深入理解ES6》/1、块级作用域.html#总结" class="sidebar-link">总结</a></li><li class="sidebar-sub-header"><a href="/blog/JavaScript/《深入理解ES6》/1、块级作用域.html#拓展1-js的函数作用域和块级作用域" class="sidebar-link">拓展1：JS的函数作用域和块级作用域</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/JavaScript/《深入理解ES6》/1、块级作用域.html#函数作用域" class="sidebar-link">函数作用域</a></li><li class="sidebar-sub-header"><a href="/blog/JavaScript/《深入理解ES6》/1、块级作用域.html#块级作用域-词法作用域" class="sidebar-link">块级作用域（词法作用域）</a></li><li class="sidebar-sub-header"><a href="/blog/JavaScript/《深入理解ES6》/1、块级作用域.html#总结-2" class="sidebar-link">总结</a></li></ul></li></ul></li></ul></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_1、块级作用域"><a href="#_1、块级作用域" class="header-anchor">#</a> 1、块级作用域</h1> <h2 id="前言"><a href="#前言" class="header-anchor">#</a> 前言</h2> <blockquote><p>引入原因：var存在变量提升</p> <p>作用：强化对变量生命周期的控制</p></blockquote> <p>由于 JS 存在变量提升，比较容易误解，在 ES6 中引入了块级作用域</p> <h2 id="变量提升"><a href="#变量提升" class="header-anchor">#</a> 变量提升</h2> <p>先看下什么是变量提升：</p> <p>变量的声明会被提升到<strong>函数顶部</strong>，而变量的赋值会在原处执行，所以可以先访问到该变量，其值为 <code>undefined</code></p> <p><strong>注意是函数顶部</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 例1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myName<span class="token punctuation">)</span> <span class="token comment">// undefined</span>
<span class="token keyword">var</span> myName <span class="token operator">=</span> <span class="token string">'Blackn'</span>

<span class="token comment">// 相当于</span>
<span class="token keyword">var</span> myName
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myName<span class="token punctuation">)</span>
myName <span class="token operator">=</span> <span class="token string">'Blackn'</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 例2</span>
<span class="token keyword">function</span> <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token parameter">say</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sayValue <span class="token operator">+</span> <span class="token string">'1'</span><span class="token punctuation">)</span> <span class="token comment">// undefined1</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>say<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">var</span> sayValue <span class="token operator">=</span> <span class="token string">'Blackn'</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sayValue<span class="token punctuation">)</span> <span class="token comment">// Blackn</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sayValue <span class="token operator">+</span> <span class="token string">'3'</span><span class="token punctuation">)</span> <span class="token comment">// undefined3</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>

<span class="token comment">// 相当于</span>
<span class="token keyword">function</span> <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token parameter">say</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> sayValue
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sayValue <span class="token operator">+</span> <span class="token string">'1'</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>say<span class="token punctuation">)</span><span class="token punctuation">{</span>
        sayValue <span class="token operator">=</span> <span class="token string">'Blackn'</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sayValue<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sayValue <span class="token operator">+</span> <span class="token string">'3'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="块级声明-let、const"><a href="#块级声明-let、const" class="header-anchor">#</a> 块级声明（let、const）</h2> <p>块级作用域（词法作用域），存在于</p> <ul><li>函数内部</li> <li>块中（<code>{ }</code>内）</li></ul> <p>块之外无法访问块内声明的变量</p> <h3 id="let"><a href="#let" class="header-anchor">#</a> let</h3> <p>let 与 var 用法类似，但是有 4 个主要区别</p> <p><strong>1、不存在变量提升</strong></p> <p>还是上面两个例子</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 例1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myName<span class="token punctuation">)</span> <span class="token comment">// myName is no defined，报错</span>
<span class="token keyword">let</span> myName <span class="token operator">=</span> <span class="token string">'Blackn'</span>

<span class="token comment">// 例2，let声明的只在当前作用域有效，即函数体内，或者更小一层，在{}内，这里是在if内</span>
<span class="token keyword">function</span> <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token parameter">say</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sayValue <span class="token operator">+</span> <span class="token string">'1'</span><span class="token punctuation">)</span> <span class="token comment">// sayValue is not defined</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>say<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">var</span> sayValue <span class="token operator">=</span> <span class="token string">'Blackn'</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sayValue<span class="token punctuation">)</span> <span class="token comment">// Blackn</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sayValue <span class="token operator">+</span> <span class="token string">'3'</span><span class="token punctuation">)</span> <span class="token comment">// sayValue is not defined</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
</code></pre></div><p>例 2 中第一个 log 直接就报错，函数不会再往下执行，往下的两个打印是为了更好的理解</p> <p><strong>2、变量只在当前声明的作用域内生效</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 例1</span>
<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> myName <span class="token operator">=</span> <span class="token string">'Blackn'</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myName <span class="token operator">+</span> <span class="token string">'1'</span><span class="token punctuation">)</span> <span class="token comment">// Blackn1</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myName <span class="token operator">+</span> <span class="token string">'2'</span><span class="token punctuation">)</span> <span class="token comment">// myName is not defined</span>

<span class="token comment">// 例2</span>
<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> myName <span class="token operator">=</span> <span class="token string">'Blackn'</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>myName<span class="token punctuation">)</span> <span class="token comment">// Blackn</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 例3</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i <span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token comment">// 5</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token comment">// i is not defined</span>
<span class="token comment">// for循环的 {} 里面也是一个块级作用域</span>
</code></pre></div><p>注意看例 2 ，if 里面又套了个 if ，但是里面的 if 的作用域还是在外面的 if 的作用域里面，所以变量依旧生效</p> <p><strong>3、同一作用域内无法重复声明</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> myName <span class="token operator">=</span> <span class="token string">'Blackn'</span>
    <span class="token keyword">var</span> myName <span class="token operator">=</span> <span class="token string">'Jack'</span>
<span class="token punctuation">}</span> <span class="token comment">// 正常运行</span>

<span class="token keyword">function</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> myName <span class="token operator">=</span> <span class="token string">'Blackn'</span>
    <span class="token keyword">let</span> myName <span class="token operator">=</span> <span class="token string">'Jack'</span>
<span class="token punctuation">}</span> <span class="token comment">// 报错</span>
</code></pre></div><p>同一作用域内无法重复声明，如果在上面的 <code>say</code> 函数外面声明 <code>myName</code> 就没有问题，或者在里面来个 <code>if</code> 判断，在判断内声明也没问题</p> <p><strong>4、暂时性死区</strong></p> <p>JS 引擎在扫描代码发现<strong>变量声明</strong>时，只有两种情况</p> <ul><li>遇到 <strong>var</strong> 声明，将声明提升到作用域顶部</li> <li>遇到 <strong>let、const</strong>，将声明放到 <strong>TDZ</strong> （暂时性死区 temporal dead zone）中，访问 TDZ 中的变量会报错</li></ul> <p>执行过变量声明语句后，变量才会从 TDZ 中移除</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> sayValue<span class="token punctuation">)</span> <span class="token comment">// 报错，此时sayValue在暂时性死区内，访问会报错</span>
    <span class="token keyword">let</span> sayValue <span class="token operator">=</span> <span class="token string">'Blackn'</span>
<span class="token punctuation">}</span>


console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> sayValue<span class="token punctuation">)</span> <span class="token comment">// undefined，此时sayValue是在声明它的块级作用域外，所以不在暂时性死区内</span>
<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> sayValue <span class="token operator">=</span> <span class="token string">'Blackn'</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="const"><a href="#const" class="header-anchor">#</a> const</h3> <p>const 用来声明常量，值一旦被设定则无法再被更改，声明时必须赋值</p> <p>其他的都与 let 相同</p> <p>需要注意的一个点是，如果 const 声明的是一个对象，可以修改对象的属性</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> age <span class="token operator">=</span> <span class="token number">21</span>
age <span class="token operator">=</span> <span class="token number">22</span> <span class="token comment">// Assignment to constant variable，报错</span>

<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
    age<span class="token operator">:</span> <span class="token number">21</span>
<span class="token punctuation">}</span>
person<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">22</span>
person<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Blackn'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span> <span class="token comment">//  {age: 22, name: &quot;Blackn&quot;}</span>
person <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// 报错</span>
</code></pre></div><p>const声明不允许修改绑定，但允许修改值，在声明对象后，可以修改该对象的属性值</p> <h2 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h2> <p>对比下 var、let、const的不同</p> <ul><li>var：存在变量提升，无块级作用域，同一变量名可重复声明</li> <li>let：不存在变量提升，存在暂时性死区，有块级作用域，不可重复声明</li> <li>const：不存在变量提升，存在暂时性死区，有块级作用域，不可重复声明，声明时值必须赋值，且不能再次赋值（可以修改绑定的值，如对象的属性值）</li></ul> <h2 id="拓展1-js的函数作用域和块级作用域"><a href="#拓展1-js的函数作用域和块级作用域" class="header-anchor">#</a> 拓展1：JS的函数作用域和块级作用域</h2> <p>在 JS 中我们经常能听到两种作用域，<code>函数作用域</code>和<code>块级作用域</code></p> <ul><li><p>函数作用域是在 ES6 之前就有的，函数内声明的变量只能在该函数内被访问到（ps：函数A里面有个函数B，那也是在函数A里面）</p></li> <li><p>块级作用域是 ES6 的新特性，配合 let 和 const，只在<code>函数作用域</code>或者<code>花括号 {}</code>内生效，也叫<code>词法作用域</code></p></li></ul> <p><strong>有函数作用域肯定有块级作用域，但是有块级作用域不一定有函数作用域，因为也可能是花括号 {} 生成的</strong></p> <p>这两个作用域经常和我们的三个关键词一起出现，<code>var</code> 、<code>let</code>、<code>const</code></p> <p><code>var</code> 声明的变量不会生成块级作用域</p> <p><code>let</code>、<code>const</code>声明的变量会生成块级作用域</p> <h3 id="函数作用域"><a href="#函数作用域" class="header-anchor">#</a> 函数作用域</h3> <p>先看看函数作用域</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> sayValue <span class="token operator">=</span> <span class="token string">'Hello World'</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sayValue <span class="token operator">+</span> <span class="token string">'1'</span><span class="token punctuation">)</span> <span class="token comment">// Hello World1</span>
    <span class="token keyword">function</span> <span class="token function">justSayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sayValue <span class="token operator">+</span> <span class="token string">'2'</span><span class="token punctuation">)</span> <span class="token comment">// Hello World2</span>
    <span class="token punctuation">}</span>
    <span class="token function">justSayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sayVaule <span class="token operator">+</span> <span class="token string">'3'</span><span class="token punctuation">)</span> <span class="token comment">// sayVaule is not defined</span>
</code></pre></div><p>在函数体内（花括号内）声明的变量无法在外面被访问到（3）</p> <h3 id="块级作用域-词法作用域"><a href="#块级作用域-词法作用域" class="header-anchor">#</a> 块级作用域（词法作用域）</h3> <p>再看看块级作用域（词法作用域）</p> <p>块级作用域存在于两个地方：</p> <ul><li>函数作用域</li> <li>花括号 {} 内</li></ul> <p>函数作用域刚刚说过了，在函数体内声明的变量无法被外层访问到</p> <p>来看下<code>花括号 {}</code></p> <p><strong>if、for循环、while循环等语句中，花括号区域就是块级作用域，但是变量必须使用<code>let</code>、<code>const</code>声明，不然无法形成块级作用域</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 使用 var 声明</span>
<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> sayValue <span class="token operator">=</span> <span class="token string">'Hello var'</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sayValue<span class="token punctuation">)</span> <span class="token comment">// Hello var， 没有形成块级作用域</span>

<span class="token comment">// 使用 let、const声明</span>
<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> sayValue <span class="token operator">=</span> <span class="token string">'Hello let'</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sayValue<span class="token punctuation">)</span> <span class="token comment">// sayValue is not defined，形成块级作用域</span>
</code></pre></div><h3 id="总结-2"><a href="#总结-2" class="header-anchor">#</a> 总结</h3> <p>所以，区分函数作用域和块级作用域很简单，看变量用什么声明的：</p> <ul><li>var 声明的，该变量所处作用域就为函数作用域</li> <li>let、const 声明的，处于块级作用域，即：函数体内、花括号 {} 内声明的变量都不能被外部访问</li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">7/14/2021, 12:42:13 AM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.19288ad8.js" defer></script><script src="/assets/js/2.961dec99.js" defer></script><script src="/assets/js/9.7eb7422e.js" defer></script>
  </body>
</html>
